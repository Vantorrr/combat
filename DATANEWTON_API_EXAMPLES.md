# DataNewton API - –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ç–µ–∫—É—â–µ–º —Ç–∞—Ä–∏—Ñ–µ

### 1. –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–∞–Ω–∏–∏
**Endpoint:** `/v1/counterparty`  
**–ú–µ—Ç–æ–¥:** GET  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `key` - API –∫–ª—é—á
- `inn` - –ò–ù–ù –∫–æ–º–ø–∞–Ω–∏–∏
- `filters` - –º–∞—Å—Å–∏–≤ –±–ª–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–∏–º–µ—Ä:**
```bash
curl "https://api.datanewton.ru/v1/counterparty?key=YOUR_KEY&inn=7728212268&filters=ADDRESS_BLOCK&filters=MANAGER_BLOCK&filters=OKVED_BLOCK"
```

**–ß—Ç–æ –ø–æ–ª—É—á–∞–µ–º:**
- ‚úÖ –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
- ‚úÖ –û–ì–†–ù
- ‚úÖ –ê–¥—Ä–µ—Å
- ‚úÖ –î–∏—Ä–µ–∫—Ç–æ—Ä (–§–ò–û)
- ‚úÖ –û–ö–í–≠–î (–æ—Å–Ω–æ–≤–Ω–æ–π –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ)
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- ‚úÖ –°—Ç–∞—Ç—É—Å –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–∞
- ‚úÖ –†–µ–≥–∏–æ–Ω

---

### 2. –ì–æ—Å–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã (–¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ç–∞—Ä–∏—Ñ 30.10.2024)
**Endpoint:** `/v1/governmentContractsStat`  
**–ú–µ—Ç–æ–¥:** GET  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `key` - API –∫–ª—é—á
- `ogrn` - –û–ì–†–ù –∫–æ–º–ø–∞–Ω–∏–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
- `type` - —Ç–∏–ø –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ (`FZ44`, `FZ223`, `PP615`, `ALL`)

**–ü—Ä–∏–º–µ—Ä:**
```bash
curl "https://api.datanewton.ru/v1/governmentContractsStat?key=YOUR_KEY&ogrn=1027739020760&type=ALL"
```

**–ß—Ç–æ –ø–æ–ª—É—á–∞–µ–º:**
- ‚úÖ –û–±—â–∞—è —Å—É–º–º–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –∑–∞ –≤—Å–µ –≤—Ä–µ–º—è
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- ‚úÖ –†–∞–∑–±–∏–≤–∫–∞ –ø–æ –≥–æ–¥–∞–º
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞–∫ –∑–∞–∫–∞–∑—á–∏–∫–∞

**–í–∞–∂–Ω–æ:** –ù—É–∂–µ–Ω –û–ì–†–ù, –∞ –Ω–µ –ò–ù–ù! –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∞–µ–º –û–ì–†–ù —á–µ—Ä–µ–∑ `/v1/counterparty`.

---

### 3. –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–µ –¥–µ–ª–∞
**Endpoint:** `/v1/arbitration-cases`  
**–ú–µ—Ç–æ–¥:** GET  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `key` - API –∫–ª—é—á
- `inn` - –ò–ù–ù –∫–æ–º–ø–∞–Ω–∏–∏
- `status` - —Å—Ç–∞—Ç—É—Å –¥–µ–ª–∞ (`OPEN` - –æ—Ç–∫—Ä—ã—Ç—ã–µ, `CLOSE` - –∑–∞–∫—Ä—ã—Ç—ã–µ)
- `limit` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π (–º–∞–∫—Å 1000)

**–ü—Ä–∏–º–µ—Ä:**
```bash
curl "https://api.datanewton.ru/v1/arbitration-cases?key=YOUR_KEY&inn=7728212268&status=OPEN&limit=1000"
```

**–ß—Ç–æ –ø–æ–ª—É—á–∞–µ–º:**
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–µ–ª (`total_cases`)
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –∫–∞–∂–¥–æ–º—É –¥–µ–ª—É
- ‚úÖ –†–æ–ª—å –∫–æ–º–ø–∞–Ω–∏–∏ (–∏—Å—Ç–µ—Ü/–æ—Ç–≤–µ—Ç—á–∏–∫)
- ‚úÖ –°—É–º–º—ã –∏—Å–∫–æ–≤

**–î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ CRM:** –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª–µ `total_cases` –¥–ª—è –∫–æ–ª–æ–Ω–∫–∏ "–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–µ –¥–µ–ª–∞".

---

### 4. –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
**Endpoint:** `/v1/finance`  
**–ú–µ—Ç–æ–¥:** GET  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `key` - API –∫–ª—é—á
- `inn` - –ò–ù–ù –∫–æ–º–ø–∞–Ω–∏–∏

**–ü—Ä–∏–º–µ—Ä:**
```bash
curl "https://api.datanewton.ru/v1/finance?key=YOUR_KEY&inn=7728212268"
```

**–ß—Ç–æ –ø–æ–ª—É—á–∞–µ–º:**
- ‚úÖ –ë–∞–ª–∞–Ω—Å—ã –∑–∞ –≤—Å–µ –≥–æ–¥—ã
- ‚úÖ –û—Ç—á–µ—Ç—ã –æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö
- ‚úÖ –î–µ–Ω–µ–∂–Ω—ã–µ –ø–æ—Ç–æ–∫–∏
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø–∞—Ä—Å–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É `balances`, `fin_results`, `money_flow`

**–°—Ç–∞—Ç—É—Å:** –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö.

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ CRM

### –ü–æ–ª–Ω—ã–π –∑–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞

```python
# 1. –ü–æ–ª—É—á–∞–µ–º –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
company = await datanewton_api.get_company_by_inn("7728212268")

# 2. –ü–æ–ª—É—á–∞–µ–º –≥–æ—Å–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã (–Ω—É–∂–µ–Ω –û–ì–†–ù –∏–∑ —à–∞–≥–∞ 1)
gov_contracts = await datanewton_api.get_government_contracts(company['ogrn'])

# 3. –ü–æ–ª—É—á–∞–µ–º –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–µ –¥–µ–ª–∞
arbitration = await datanewton_api.get_arbitration_data("7728212268")

# 4. –ü–æ–ª—É—á–∞–µ–º —Ñ–∏–Ω–∞–Ω—Å—ã
finance = await datanewton_api.get_finance_data("7728212268")
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ (–ê–û "–§–ö "–°–ü–ê–†–¢–ê–ö-–ú–û–°–ö–í–ê"):
- –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ: –ê–û "–§–ö "–°–ü–ê–†–¢–ê–ö-–ú–û–°–ö–í–ê"
- –ò–ù–ù: 7728212268
- –û–ì–†–ù: 1027739020760
- –ì–æ—Å–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã: 200 125 434 —Ä—É–±. (–∑–∞ –≤—Å–µ –≤—Ä–µ–º—è)
- –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–µ –¥–µ–ª–∞: 4 (–æ—Ç–∫—Ä—ã—Ç—ã—Ö)
- –ë–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ: –Ω–µ—Ç

---

## üîÑ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
```bash
# –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–µ –¥–µ–ª–∞ (—ç–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤)
python scripts/auto_update_data.py --sheet-id YOUR_SHEET_ID --columns Q

# –û–±–Ω–æ–≤–∏—Ç—å –∞—Ä–±–∏—Ç—Ä–∞–∂ + –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ
python scripts/auto_update_data.py --sheet-id YOUR_SHEET_ID --columns Q R

# –û–±–Ω–æ–≤–∏—Ç—å –∞—Ä–±–∏—Ç—Ä–∞–∂ + –≥–æ—Å–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã + –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ
python scripts/auto_update_data.py --sheet-id YOUR_SHEET_ID --columns Q P R
```

### –†–∞—Å—Ö–æ–¥ —Ç–æ–∫–µ–Ω–æ–≤:
- –ê—Ä–±–∏—Ç—Ä–∞–∂ (`Q`): 1 –∑–∞–ø—Ä–æ—Å –Ω–∞ –∫–æ–º–ø–∞–Ω–∏—é
- –ë–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ (`R`): 1 –∑–∞–ø—Ä–æ—Å –Ω–∞ –∫–æ–º–ø–∞–Ω–∏—é
- –ì–æ—Å–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã (`P`): 2 –∑–∞–ø—Ä–æ—Å–∞ (counterparty + governmentContractsStat)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –∞—Ä–±–∏—Ç—Ä–∞–∂ —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é = ~N –∫–æ–º–ø–∞–Ω–∏–π —Ç–æ–∫–µ–Ω–æ–≤.

---

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–§–∏–Ω–∞–Ω—Å—ã:**
   - API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Å–ª–æ–∂–Ω–æ–π –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
   - –ù—É–∂–Ω–æ –ø–∞—Ä—Å–∏—Ç—å `balances.assets.childrenMap`
   - –î–ª—è –±–∞–Ω–∫–æ–≤ –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è 409 –æ—à–∏–±–∫–∞

2. **–ì–æ—Å–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã:**
   - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω –û–ì–†–ù (–Ω–µ –ò–ù–ù!)
   - –¢—Ä–µ–±—É–µ—Ç 2 –∑–∞–ø—Ä–æ—Å–∞: —Å–Ω–∞—á–∞–ª–∞ counterparty –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –û–ì–†–ù

3. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤:**
   - –ù–∞ —Ç–∞—Ä–∏—Ñ–µ "API –°—Ç–∞—Ä—Ç": 5000 –∑–∞–ø—Ä–æ—Å–æ–≤
   - –ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ 1 –∫–æ–º–ø–∞–Ω–∏—é = 4 –∑–∞–ø—Ä–æ—Å–∞ (counterparty + finance + gov_contracts + arbitration)

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–≤–æ–Ω–∫–µ:** –ó–∞–ø—Ä–æ—Å–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ (4 –∑–∞–ø—Ä–æ—Å–∞)
2. **–°—Ç–∞—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** (–Ω–µ –æ–±–Ω–æ–≤–ª—è—Ç—å):
   - –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ, –ò–ù–ù, –û–ì–†–ù
   - –ê–¥—Ä–µ—Å
   - –û–ö–í–≠–î
   - –î–∏—Ä–µ–∫—Ç–æ—Ä
   
3. **–î–∏–Ω–∞–º–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** (–æ–±–Ω–æ–≤–ª—è—Ç—å —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é):
   - –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–µ –¥–µ–ª–∞ (`/v1/arbitration-cases`)
   - –ë–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ (`/v1/counterparty` —Å —Ñ–∏–ª—å—Ç—Ä–æ–º `NEGATIVE_LISTS_BLOCK`)
   - –§–∏–Ω–∞–Ω—Å—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

4. **–î–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è —Å DataNewton:**
   - –ë–µ–∑–ª–∏–º–∏—Ç –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
   - –ò–ª–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ X –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–µ—Å—è—Ü



